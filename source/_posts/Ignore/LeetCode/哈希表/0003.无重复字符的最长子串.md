---
title: 0003.æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²
date: " 2024-08-31 11:46 "
description: 
cover: https://raw.githubusercontent.com/shigure-no-wokka/pic_bed/main/imgs/family_code.jpg
categories: Code
tags:
  - LeetCode
  - å“ˆå¸Œè¡¨
---

é¢˜ç›®é“¾æ¥ï¼š [3 æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/)

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚

ç¤ºä¾‹ 1:
è¾“å…¥ï¼šs = "abcabcbb"
è¾“å‡ºï¼š3 
è§£é‡Šï¼šå› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚

ç¤ºä¾‹ 2:
è¾“å…¥ï¼šs = "bbbbb"
è¾“å‡ºï¼š1
è§£é‡Šï¼šå› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "b"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚

ç¤ºä¾‹ 3:
è¾“å…¥ï¼šs = "pwwkew"
è¾“å‡ºï¼š3
è§£é‡Šï¼šå› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "wke"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ"pwke" æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚
 
æç¤ºï¼š
- 0 <= s.length <= 5 * 104
- s ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ

<!--more-->

## é¢˜è§£

### æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—å£

**å‰ç½®çŸ¥è¯†**ï¼š
- `unordered_set`ï¼Œå‚è€ƒé“¾æ¥ï¼š[1](https://en.cppreference.com/w/cpp/container/unordered_set)ã€[2](https://www.cnblogs.com/JCpeng/p/15227986.html)
  - `insert`
  - `erease`
  - `count`
- `string`ï¼Œå‚è€ƒé“¾æ¥ï¼š[1](https://en.cppreference.com/w/cpp/string)ã€[2](https://www.jianshu.com/p/c86d38db63ce)



- ä½¿ç”¨åŒæŒ‡é’ˆ`slow`å’Œ`fast`ï¼Œä½œä¸ºå­ä¸²çš„é¦–å°¾å®šä½
- å¯¹äºæ¯ä¸€ä¸ª`slow`ï¼Œç§»åŠ¨`fast`è·å–å­—ç¬¦
- ç¡®è®¤`fast`è·å–çš„å­—ç¬¦æ²¡æœ‰é‡å¤
  - æ— é‡å¤ï¼Œåˆ™åŠ å…¥å­ä¸²ä¸­ï¼Œ`++len`
  - æœ‰é‡å¤ï¼Œåˆ™ä¸åŠ å…¥ï¼Œå¹¶ç§»åŠ¨`slow`

```cpp
class Solution {
public:
    int lengthOfLongestSubstring(string s) {
        int fast = 0;
        unordered_set<char> sameChar;
        int n = s.size();
        int len = 0;
        for(int slow = 0; slow < n; slow++)
        {
            while(fast < n && !sameChar.count(s[fast]))
            {
                sameChar.insert(s[fast]);
                ++fast;
            }
            len = max(len, fast - slow);
            sameChar.erase(s[slow]);
        }
        return len;
    }
};
```

å¤æ‚åº¦åˆ†æï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$


### æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨

ä¸Šè¾¹é‚£ç§æ–¹æ³•å­˜åœ¨ä¸€äº›å¤šä½™çš„åˆ¤æ–­ï¼Œä¾‹å¦‚ï¼š
- å½“`fast`æŒ‡å‘çš„å­—ç¬¦çš„é‡å¤å…ƒç´ ä½ç½®ä½äºå­ä¸²çš„éé¦–ä½æ—¶ï¼Œè¿™é‡Œè®°ä½ç½®ä¸º`k`
- é‚£ä¹ˆä»`slow`å¼€å§‹åˆ°`k`ä¹‹é—´çš„å…ƒç´ éƒ½ä¸éœ€è¦å†è¿›è¡Œæ£€æŸ¥äº†ï¼Œè¿™æ®µå­ä¸²ä¸€å®šä¸èƒ½æ˜¯æœ€ç»ˆç»“æœ
- å› ä¸ºåŒ…å«è¿™æ®µå­ä¸²çš„`slow`åˆ°`fast`æ¯”è¿™æ®µæ›´é•¿

æ‰€ä»¥ï¼Œéœ€è¦å°†`slow`ç§»åŠ¨åˆ°å…¶ä¸­å‡ºç°é‡å¤å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå³`k+1`

```cpp
class Solution {
public:
    int lengthOfLongestSubstring(string s) {
        int len = 0;
        // è®°å½•æ¯ä¸ªå­—ç¬¦æœ€æ–°å‡ºç°çš„ä½ç½®
        unordered_map<char, int> hash;
        // åŒæŒ‡é’ˆ
        int slow = 0;
        int fast = 0;
        for(fast=0;fast<s.size();fast++)
        {
            if(hash.count(s[fast]))
            {// å¦‚æœ hash è¡¨ä¸­å­˜åœ¨
                len = max(len, fast-slow);
            // é‡ç‚¹ğŸ‘‡
                slow = max(slow, hash[s[fast]]+1);
            }
            hash[s[fast]] = fast; // æ›´æ–°å­—ç¬¦ä½ç½®
        }
        return len;
    }
};
```

- **é‡ç‚¹**ï¼šæ³¨æ„æ›´æ–°`slow`æ—¶ï¼Œè¦å’ŒåŸ`slow`æ¯”è¾ƒï¼Œå–è¾ƒå¤§çš„ä¸€ä¸ª
  - å› ä¸ºè¿™é‡Œçš„ hash ä¸ºå¯¹å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°ä½ç½®çš„è®°å½•
  - æœ‰å¯èƒ½å‡ºç°å¦‚æ‰¾å­—ç¬¦ä¸²`acaaabdce`æ—¶ï¼Œ`adb`ä¸‹ä¸€ä¸ªæ˜¯`c`ï¼Œä½†æ˜æ˜¾ hash è¡¨é‡Œæ—©å°±å­˜å‚¨äº†ä¸‹æ ‡ä¸º`1`çš„å­—ç¬¦`c`
  - è¿™å°±ä¿è¯äº†åœ¨ hash è¡¨ä¸­è®°å½•çš„ä½ç½®å¦‚æœä½äº`slow`ä¹‹å¤–ï¼Œè¯´æ˜å‡ºç°é‡å¤çš„å…ƒç´ ä¸åœ¨å½“å‰å­ä¸²ä¸­

å¤æ‚åº¦åˆ†æï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š$O(n)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$

